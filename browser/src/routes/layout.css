@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@import '@fontsource-variable/geist-mono';

:root {
	--dorch-mono:
		'Geist Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
		'Courier New', monospace;

	/* Scrollbars (use Tailwind v4 zinc palette variables) */
	--dorch-scrollbar-track: var(--color-zinc-950);
	--dorch-scrollbar-thumb: var(--color-zinc-700);
	--dorch-scrollbar-thumb-hover: var(--color-zinc-600);
}

@layer base {
	html {
		color-scheme: dark;
	}

	/* Firefox */
	* {
		scrollbar-width: thin;
		scrollbar-color: var(--dorch-scrollbar-thumb) var(--dorch-scrollbar-track);
	}

	/* WebKit (Chromium, Safari) */
	*::-webkit-scrollbar {
		width: 10px;
		height: 10px;
	}

	*::-webkit-scrollbar-track {
		background-color: var(--dorch-scrollbar-track);
	}

	*::-webkit-scrollbar-thumb {
		background-color: var(--dorch-scrollbar-thumb);
		border-radius: 9999px;
		border: 2px solid var(--dorch-scrollbar-track);
	}

	*::-webkit-scrollbar-thumb:hover {
		background-color: var(--dorch-scrollbar-thumb-hover);
	}

	*::-webkit-scrollbar-corner {
		background-color: var(--dorch-scrollbar-track);
	}

	/* Subtle sanguine glow for pano frames */
	.dorch-pano-glow {
		position: relative;
	}

	.dorch-pano-glow::after {
		content: '';
		position: absolute;
		inset: 0;
		border-radius: inherit;
		pointer-events: none;
		box-shadow:
			0 0 0 1px color-mix(in oklab, var(--color-red-950) 60%, transparent),
			0 0 20px 2px color-mix(in oklab, var(--color-red-950) 60%, transparent);
	}

	.dorch-pano-label {
		position: relative;
	}

	.dorch-pano-label::before {
		content: 'PANORAMIC';
		position: absolute;
		top: 0.5rem;
		left: 0.5rem;
		background: black;
		padding: 0 4px;
		z-index: 1;
		pointer-events: none;
		font-family: var(--dorch-mono);
		font-size: 0.8rem;
		letter-spacing: 0.08em;
		color: color-mix(in oklab, var(--color-red-900) 100%, white);
		opacity: 1;
		transition: opacity 160ms ease;
	}

	.dorch-pano-label:hover::before {
		opacity: 0;
	}

	/* Subtle tiled texture background (static/lava.png) */
	.dorch-texture {
		position: relative;
		isolation: isolate;
	}

	.dorch-texture::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: 0;
		background-image: url('/lava.png');
		background-repeat: repeat;
		background-size: 256px 256px;
		opacity: 0.1;
		filter: brightness(0.85) saturate(1.1) contrast(1.05);
	}

	.dorch-texture > * {
		position: relative;
		z-index: 1;
	}
}
